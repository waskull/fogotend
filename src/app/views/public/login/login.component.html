<div class="bg-dark py-3 py-md-5 py-xl-8  " style="height: 100vh;">
  
 
    <div class="container  d-flex justify-content-center section" >
      <div class="row  align-items-center ">
        <div class="col-12 col-md-6 col-xl-6">
          <div class="bg-dark  d-flex justify-content-center text-bg-dark">
            <div class="col-12 col-xl-10">
              
              <div class="d-flex flex-column justify-content-between ">
                <img src="images/fogon.png" alt="fogon" class="img-fluid rounded mx-auto" width="245" height="80" data-toggle="tooltip" data-placement="top" title="El fogón del Este">
              </div>
              
                  
               
                <hr class="border-primary-subtle mb-4">
              <h2 class="h1 mb-3">Sabor Criollo para Disfrutar en Familia</h2>
              <p class="lead mb-3">Contamos con los mejores platillos y el mejor servicio al cliente de Maturín.</p>
              <div class="row  flex flex-row d-flex justify-content-center align-content-between mb-2 mt-5">
                
                <div class="d-flex flex flex-column imagep col">
                  <img src="images/nestjs.png" alt="nestjs" class="img-fluid image" data-toggle="tooltip" data-placement="right" title="NestJS 10.3">
                </div>
                <div class="d-flex flex flex-column imagep col">
                  <img src="images/postgresql.png" alt="nestjs" class="img-fluid image" data-toggle="tooltip" data-placement="right" title="PostgreSQL 16.3">
                </div>
                <!-- <div class="d-flex flex flex-column imagep col align-self-center text-center">
                  <img src="images/plu.png" alt="angular" class="img-fluid" style="opacity: 0.1;max-height: 80px; max-width: 80px;" data-toggle="tooltip" data-placement="left" title="">
                </div> -->
                <div class="d-flex flex flex-column imagep col">
                  <img src="images/angular.png" alt="angular" class="img-fluid image" data-toggle="tooltip" data-placement="left" title="Angular 18.1">
                </div>
              </div>
            </div>
          </div>
        </div>
        @if (isLogin) {
          <div class="col-12 col-md-6 col-xl-5">
            <ul class="nav nav-pills nav-fill mb-2">
              <li class="nav-item">
                <a [className]="isLogin ? 'active nav-link' : 'nav-link'"  style="cursor: pointer;" aria-current="page" (click)="isLogin = true">Inicio de sesión</a>
              </li>
              <li class="ms-2 nav-item">
                <a [className]="!isLogin ? 'active nav-link'  : 'nav-link'"  style="cursor: pointer;" (click)="isLogin = false">Registro</a>
              </li>
            </ul>
            <div class="card shadow-none rounded-4 mb-5">
              <div class="card-body p-3 p-md-4 p-xl-4">
                <div class="row">
                  <div class="col-12">
                    <div class="mb-4">
                      <h3 class="text-center">Iniciar sesión</h3>
                      
                    </div>
                  </div>
                </div>
                <form (ngSubmit)="login()" [formGroup]="loginForm">
                  <div class=" mb-3 form-group">
                    <label>Correo:<span class="text-danger"></span></label>
                    <div class="input-group input-group-lg">
                      <div class="input-group-text"><i class="fa-solid fa-at"></i></div>
                    <input class="form-control" id="floatingInput" [className]="loginForm.get('email')?.touched && (loginForm.get('email')?.errors?.['required'] || loginForm.get('email')?.errors?.['minlength']) ? 'form-control is-invalid' : 'form-control'" type="email" formControlName="email" maxlength="40"
                      placeholder="correo@gmail.com">
                    
                    </div>
        
                    @if (loginForm.get('email')?.touched && loginForm.get('email')?.errors?.['required'] && isLogin) {
                    <div class="alert mt-3 alert-danger">El Correo es requerido</div>
                    }
                    @if (loginForm.get('email')?.touched && loginForm.get('email')?.errors?.['minlength']  && isLogin) {
                    <div class="alert mt-3 alert-danger">El Correo debe de tener minimo
                      {{loginForm.get('email')?.errors?.['minlength'].requiredLength}} caracteres</div>
                    }
        
                  </div>
                  <div class="mb-3 form-group">
                    <label>Contraseña:<span class="text-danger"></span></label>
        
                    <div class="input-group input-group-lg">
                      <div class="input-group-text"><i class="fa-solid fa-key"></i></div>
                      <input class="form-control" [className]="loginForm.get('password')?.touched && (loginForm.get('password')?.errors?.['required'] || loginForm.get('password')?.errors?.['minlength']) ? 'form-control is-invalid' : 'form-control'" #passInput id="floatingPassword" type="password" formControlName="password"
                      placeholder="Contraseña" maxlength="40">
                    
                    </div>
        
                    
        
                    <!-- @if (loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['required']  && isLogin) {
                    <div class="alert mt-3 alert-danger">La Contraseña es requerida</div>
                    } -->
                    @if (loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['minlength']  && isLogin) {
                    <div class="alert mt-3 alert-danger">La contraseña debe de tener minimo
                      {{loginForm.get('password')?.errors?.['minlength'].requiredLength}} caracteres</div>
                    }
        
                  </div>
                  @if (error) {<div class="alert alert-danger mb-3 px-1">{{message}}</div>}
                  <div class="form-check mb-2 d-flex justify-content-start">
                    <input class="form-check-input" type="checkbox" id="flexCheckChecked" formControlName="rememberEmail">
                    <label class="form-check-label ms-1" for="flexCheckChecked">
                      Recordarme
                    </label>
                  </div>

                  <div class="col-12">
                    <div class="d-grid">
                      <button class="btn btn-primary btn-lg" type="submit"
                    [disabled]="loginForm.invalid || isSubmiting">
                    @if (isSubmiting) {
                      <span role="status"> Cargando...</span>
                      <span class="spinner-border spinner-border-sm ms-1" aria-hidden="true"></span>
                    }
                    @else {
                      <span role="status">Iniciar sesión</span>
                    }
                  </button>
                    </div>
                  </div>
                  
                </form>
                <div>
        
                </div>
                <div class="row">
                  <div class="col-12">
                    <div class="d-flex gap-2 gap-md-4 flex-column flex-md-row justify-content-md-end mt-4">
                      <a class="px-0 mynav" style="cursor: pointer; color: blue" (click)="resetPassword()">
                        <span class="">Recuperar clave</span>
                      </a>
                    </div>
                  </div>
                </div>
              
              </div>
            </div>
          </div>
        }
        @else {
          <div class="col-12 col-md-6 col-xl-5">
            <ul class="nav nav-pills nav-fill mb-2">
              <li class="nav-item">
                <a [className]="isLogin ? 'active nav-link' : 'nav-link'"  style="cursor: pointer;" aria-current="page" (click)="isLogin = true">Inicio de sesión</a>
              </li>
              <li class="ms-2 nav-item">
                <a [className]="!isLogin ? 'active nav-link'  : 'nav-link'"  style="cursor: pointer;" (click)="isLogin = false">Registro</a>
              </li>
            </ul>
            <div class="card shadow-none rounded-4 mb-5">
              <div class="card-body p-3 p-md-4 p-xl-4">
                <div class="row">
                  <div class="col-12">
                    <div class="mb-4">
                      <h3 class="text-center">Registrarse</h3>
                      
                    </div>
                  </div>
                </div>
                <form (ngSubmit)="register()" [formGroup]="registerForm">
                  <div class="row">
                    <div class="mb-3 form-floating form-group col">
                      <label for="firstname" class="form-label py-1 px-4">Nombre<span class="text-danger">*</span></label>
                      <input type="text" class="form-control" id="firstname" formControlName="firstname" maxlength="40">
                      @if (registerForm.get('firstname')?.touched && registerForm.get('firstname')?.errors?.['required']) {
                      <div class="alert mt-3 alert-danger">El nombre es requerido.</div>
                      }
                      @if (registerForm.get('firstname')?.touched && registerForm.get('firstname')?.errors?.['minlength']) {
                      <div class="alert mt-3 alert-danger">El nombre debe de tener minimo
                        {{registerForm.get('firstname')?.errors?.['minlength'].requiredLength}} caracteres.</div>
                      }
        
                    </div>
                    <div class="mb-3 form-floating form-group col">
                      <label for="lastname" class="form-label py-1 px-4">Apellido<span class="text-danger">*</span></label>
                      <input type="text" class="form-control" id="lastname" formControlName="lastname" maxlength="40">
                      @if (registerForm.get('lastname')?.touched && registerForm.get('lastname')?.errors?.['required']) {
                      <div class="alert mt-3 alert-danger">El apellido es requerido.</div>
                      }
                      @if (registerForm.get('lastname')?.touched && registerForm.get('lastname')?.errors?.['minlength']) {
                      <div class="alert mt-3 alert-danger">El apellido debe de tener minimo
                        {{registerForm.get('lastname')?.errors?.['minlength'].requiredLength}} caracteres.</div>
                      }
        
                    </div>
                  </div>
                  <div class="row">
                    <div class="mb-3 form-floating form-group col">
                      <label for="email" class="form-label py-1 px-4">Correo<span class="text-danger">*</span></label>
                      <input type="email" class="form-control" id="email" formControlName="email" maxlength="50">
                      @if (registerForm.get('email')?.touched && registerForm.get('email')?.errors?.['required']) {
                      <div class="alert mt-3 alert-danger">El Correo es requerido.</div>
                      }
        
                      @if (registerForm.get('email')?.touched && registerForm.get('email')?.errors?.['minlength']) {
                      <div class="alert mt-3 alert-danger">El Correo debe de tener minimo
                        {{registerForm.get('email')?.errors?.['minlength'].requiredLength}} caracteres.</div>
                      }
        
                    </div>
                    <div class="mb-3 form-floating form-group col">
                      <label for="password" class="form-label py-1 px-4">Contraseña<span class="text-danger">*</span></label>
                      <input type="password" class="form-control" id="password" formControlName="password" maxlength="40">
                      @if (registerForm.get('password')?.touched && registerForm.get('password')?.errors?.['required']) {
                        <div class="alert mt-3 alert-danger">La Contraseña es requerida.</div>
                      }
                      
                      @if (registerForm.get('password')?.touched && registerForm.get('password')?.errors?.['minlength']) {
                        <div class="alert mt-3 alert-danger">La contraseña debe de tener mínimo
                        {{registerForm.get('password')?.errors?.['minlength'].requiredLength}} caracteres.</div>
                      }
                      
                    </div>
                  </div>
                  <div class="row">
                    <div class="mb-3 form-floating form-group col">
                      <label for="dni" class="form-label py-1 px-4">Cédula<span class="text-danger">*</span></label>
                      <input type="text" class="form-control" id="dni" formControlName="dni" maxlength="40" appOnlynumbers>
                      @if (registerForm.get('dni')?.touched && registerForm.get('dni')?.errors?.['required']) {
                      <div class="alert mt-3 alert-danger">La cédula es requerida.</div>
                      }
        
                      @if (registerForm.get('dni')?.touched && registerForm.get('dni')?.errors?.['minlength']) {
                      <div class="alert mt-3 alert-danger">La cedula debe de tener minimo
                        {{registerForm.get('dni')?.errors?.['minlength'].requiredLength}} caracteres.</div>
                      }
        
                    </div>
                    <div class="mb-3 form-floating form-group col">
                      <label for="birthdate" class="form-label py-1 px-4">Fecha de nacimiento<span class="text-danger">*</span></label>
                      <input type="date" class="form-control" id="birthdate" formControlName="birthdate">
                      
      
                      @if (registerForm.get('birthdate')?.touched && registerForm.get('birthdate')?.errors?.['required']) {
                      <div class="alert mt-3 alert-danger">Introduce una fecha de nacimiento válida.</div>
                      }
                    </div>
                  </div>
                  <div class="row">
                    <div class="mb-3 form-floating form-group col">
                      <label for="gender" class="form-label py-1 px-4">Genero<span class="text-danger">*</span></label>
                      <select class="form-select" aria-label="Seleccion de genero" name="gender" id="gender"
                        formControlName="gender">
                        <option selected value="Femenino">Femenino</option>
                        <option value="Masculino">Masculino</option>
                      </select>
                      @if (registerForm.get('gender')?.touched && registerForm.get('gender')?.errors?.['required']) {
                      <div class="alert mt-3 alert-danger">El genero es requerido.</div>
                      }
        
                    </div>
        
                    <div class="mb-3 form-floating form-group col">
                      <label for="phone" class="form-label py-1 px-4">Teléfono:</label>
                      <input type="text" class="form-control" id="phone" formControlName="phone" maxlength="40"
                        inputmode="numeric" pattern="[0-9]*" appOnlynumbers>
                      @if (registerForm.get('phone')?.touched && registerForm.get('phone')?.errors?.['minlength']) {
                      <div class="alert mt-3 alert-danger">El teléfono debe de tener minimo
                        {{registerForm.get('phone')?.errors?.['minlength'].requiredLength}} caracteres.</div>
                      }
        
                    </div>
                  </div>
        
                  @if (errorReg) {
                  <span class="text-danger px-1">{{messageReg}}</span>
                  }
                  <div class="py-2"></div>
                  <div class="col-12">
                    <div class="d-grid">
                      <button type="button" class="btn btn-primary btn-lg" type="submit" [disabled]="registerForm.invalid">
                        @if (isSubmiting) {
                          <span role="status"> Cargando...</span>
                          <span class="spinner-border spinner-border-sm ms-1" aria-hidden="true"></span>
                        }
                        @else {
                          <span role="status">Crear cuenta</span>
                        }
                      </button>
                    </div>
                  </div>
                  
        
        
        
        
                </form>
              
              </div>
            </div>
          </div>
        }
        
      </div>
    </div>
  
  </div>
        

